<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" referrerpolicy="no-referrer"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>
<body>
    <table class="table table-striped">
        <tr class="bg-info">
            <th data-colunm="name" data-order="desc">Name &#9650</th>
            <th data-colunm="age" data-order="desc">Age &#9650</th>
            <th data-colunm="birthdate" data-order="desc">Birthday &#9650</th>
        </tr>

        <tbody id="myTable">

        </tbody>

    </table>

    <script>

        var myArray = [
            {'name':'Sanjay', 'age': 22, 'birthdate': '18/08/1999'},
            {'name':'Himanshu', 'age': 22, 'birthdate': '17/08/1999'},
            {'name':'Mahesh', 'age': 19, 'birthdate': '01/02/2002'},
            {'name':'Piyush', 'age': 20, 'birthdate': '05/06/2001'},
            {'name':'Vaibhav', 'age': 20, 'birthdate': '19/03/2000'},
            {'name':'Arpit', 'age': 22, 'birthdate': '09/10/1999'}
        ]

        $('th').on('click', function(){
           var colunm = $(this).data('colunm')
           var order = $(this).data('order')
            
           var text = $(this).html()
           text = text.substring(0, text.length -1)

            if(order == 'desc'){
                $(this).data('order', 'asc')
                myArray = myArray.sort((a,b) => a[colunm] > b[colunm] ? 1 : -1)

                text += `&#9660`
            }else{
                $(this).data('order.', 'desc')
                myArray = myArray.sort((a,b) => a[colunm] < b[colunm] ? 1 : -1)

                text += `&#9650` 
            }

            $(this).html(text)
            buildTable(myArray)

        })

        buildTable(myArray) 

        function buildTable(data) {

            var table = document.getElementById('myTable')

            table.innerHTML = ''

            for (var i = 0; i < data.length; i++) {
                var row = `<tr> 
                            <td>${data[i].name}</td>    
                            <td>${data[i].age}</td>
                            <td>${data[i].birthdate}</td>
                            </tr>`

                            table.innerHTML += row;
            }

        }

    </script>
</body>
</html>